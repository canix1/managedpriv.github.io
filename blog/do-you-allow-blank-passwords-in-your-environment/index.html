<!DOCTYPE html>

<html lang="en-us"><head>
  <meta charset="utf-8">
  <title>Do You Allow Blank Passwords In Your Environment</title>

  <!-- mobile responsive meta -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="this is meta description for blog page.">
  
  <meta name="author" content="robin granberg">
  <meta name="generator" content="Hugo 0.65.3" />

  <!-- plugins -->
  
  <link rel="stylesheet" href="https://managedpriv.com/plugins/bootstrap/bootstrap.min.css">
  
  <link rel="stylesheet" href="https://managedpriv.com/plugins/slick/slick.css">
  
  <link rel="stylesheet" href="https://managedpriv.com/plugins/fontawesome/font-awesome.min.css">
  
  <link rel="stylesheet" href="https://managedpriv.com/plugins/animate/animate.css">
  
  <link rel="stylesheet" href="https://managedpriv.com/plugins/venobox/venobox.css">
  

  <!-- Main Stylesheet -->
  
  <link rel="stylesheet" href="https://managedpriv.com/scss/style.min.css" media="screen">

  <!--Favicon-->
  <link rel="shortcut icon" href="https://managedpriv.com/images/favicon.png " type="image/x-icon">
  <link rel="icon" href="https://managedpriv.com/images/favicon.png " type="image/x-icon">

</head><body>
<!-- preloader start -->
<div class="preloader">
  
</div>
<!-- preloader end -->
<!-- header -->
<header>
  
  <!-- top header -->
  <div class="top-header bg-secondary pt-2 pb-1">
    <div class="container">
      <div class="row align-items-center">
        <!-- social icons -->
        <div class="col-lg-6 col-md-6 text-center text-md-left">
          <span class="text-white">Connect With Me:</span>
          <ul class="list-inline d-inline-block">
            
            <li class="list-inline-item"><a class="text-white d-inline-block p-2" href="https://twitter.com/ipcdollar1"><i class="fa fa-twitter"></i></a></li>
            
            <li class="list-inline-item"><a class="text-white d-inline-block p-2" href="https://github.com/canix1"><i class="fa fa-github"></i></a></li>
            
            <li class="list-inline-item"><a class="text-white d-inline-block p-2" href="https://www.linkedin.com/in/robin-granberg"><i class="fa fa-linkedin"></i></a></li>
            
          </ul>
        </div>
        <!-- mail and phone -->
        <div class="col-lg-6 col-md-6 text-md-right text-center">
          <ul class="list-inline">
            <li class="list-inline-item mx-0 border-right border-secondary"><a class="text-white d-inline-block px-lg-3 px-2" href="mailto:robin.granberg@protonmail.com">robin.granberg@protonmail.com</a></li>
            <li class="list-inline-item mx-0"><a class="text-white d-inline-block px-lg-3 px-2" href="tel:">(-: <span class="text-primary"></span></a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  <!-- /top header -->
  

  <!-- navigation -->
  <div class="navigation bg-white position-relative">
    <div class="container">
      <nav class="navbar navbar-expand-lg navbar-light bg-white">
        <a class="navbar-brand" href="/"><img class="img-fluid pb-lg-3" src="https://managedpriv.com/images/logo.png" alt="Robin Graberg - Managed Privileges"></a>
        <button class="navbar-toggler border-0" type="button" data-toggle="collapse" data-target="#navigation"
          aria-controls="navigation" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse text-center" id="navigation">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item">
              <a class="nav-link" href="/">Home</a>
            </li>
            
            
            <li class="nav-item">
              <a class="nav-link" href="/blog">Blog</a>
            </li>
            
            
            
            <li class="nav-item">
              <a class="nav-link" href="/project">Projects</a>
            </li>
            
            
            
            <li class="nav-item">
              <a class="nav-link" href="/about">About</a>
            </li>
            
            
          </ul>

          
          

          
          <!-- search -->
          <div class="search px-4">
            <button id="searchOpen" class="search-btn"><i class="fa fa-search text-dark"></i></button>
            <div class="search-wrapper">
              <form action="/search">
                <input class="search-box form-control" id="search-query" name="s" type="search" placeholder="Type &amp; Hit Enter...">
              </form>
              <button id="searchClose" class="search-close"><i class="fa fa-close text-dark"></i></button>
            </div>
          </div>
          
          
          <!-- get start btn -->
          <a href="https://managedpriv.com/project" class="btn btn-primary hover-ripple">projects</a>
          
        </div>
      </nav>
    </div>
  </div>
  <!-- /navigation -->
</header>
<!-- /header -->

<!-- page title -->
<section class="section bg-cover overlay" style="background-image: url('https://managedpriv.com/images/backgrounds/page-title.webp'),url('https://managedpriv.com/images/backgrounds/page-title.jpg'),url('https://managedpriv.com/images/backgrounds/page-title.jpg');">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <h2 class="text-white mb-3">Do You Allow Blank Passwords In Your Environment</h2>
        <!-- breadcrumb -->
        <nav aria-label="breadcrumb">
          <ol class="breadcrumb bg-transparent p-0">
            <li class="breadcrumb-item font-weight-semebold"><a class="text-white" href="/">Home</a></li>
            <li class="breadcrumb-item font-weight-semebold active text-primary" aria-current="page">Do You Allow Blank Passwords In Your Environment</li>
          </ol>
        </nav>
      </div>
    </div>
  </div>
</section>
<!-- /page title -->

<!-- blog details -->
<section class="section">
  <div class="container">
    <div class="row">
      <div class="col-lg-8">
        <!-- post thumb -->
        <div class="position-relative mb-5">
          <img src="https://managedpriv.com/images/blog/post-1.jpg"  onerror="this.src='https:\/\/managedpriv.com\/images\/blog\/post-1.webp'" alt="post thumb" class="img-fluid w-100">
           <div class="card-type">Passwords</div>
        </div>
        <div class="card-meta text-uppercase mb-2">by <strong class="text-dark">Robin Granberg</strong>/ on <strong class="text-dark">07 Feb 2019</strong></div>
        <h2>Do You Allow Blank Passwords In Your Environment</h2>
        <div class="content">
          <p><!-- raw HTML omitted -->This is a repost of my previous post at the no longer existing blog<!-- raw HTML omitted -->http<!-- raw HTML omitted --><!-- raw HTML omitted -->://<!-- raw HTML omitted --><!-- raw HTML omitted -->blogs.technet.com/b/pfesweplat/archive/2012/12/11/do-you-allow-blank-passwords-in-your-environment.aspx<!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p>Do you or did you back in the days use your own code or a third party tool to create user accounts that did not update the userAccountControl attribute after the account was created?
Well then there&rsquo;s a change you might have accounts in your domain that are allowed blank passwords or even worse have accounts with blank passwords!
 <!-- raw HTML omitted -->
Why! Because user objects are allowed blank passwords by default when created, something that must be handle afterwards. Unless that&rsquo;s in line with your security policy ;)
 <!-- raw HTML omitted --></p>
<p>This is the default setting of userAccountControl at user object creation:
userAccountControl: 0x222 = (<!-- raw HTML omitted -->ACCOUNTDISABLE | PASSWD_NOTREQD | NORMAL_ACCOUNT<!-- raw HTML omitted -->);
 <!-- raw HTML omitted --></p>
<h2 id="how-does-this-setting-affect-my-environment">How does this setting affect my environment?</h2>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted -->Q:<!-- raw HTML omitted --> We have a password policy in our domain that does not allow blank passwords, are we protected from blank passwords?
 <!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted -->A:<!-- raw HTML omitted --> No, this setting overrides the password policy in the domain or your fine grained password policy when you do <!-- raw HTML omitted -->reset password<!-- raw HTML omitted --> operations.</p>
<!-- raw HTML omitted -->
<p> 
So when is the &ldquo;blank password&rdquo; setting on user accounts effective:</p>
<!-- raw HTML omitted -->
<p>When users are delegated the permissions to do password resets on user accounts with ADS_UF_PASSWD_NOTREQD, they can set a blank password.</p>
<!-- raw HTML omitted -->
<p> 
A normal change password procedure by a user do not follow the <!-- raw HTML omitted -->ADS_UF_PASSWD_NOTREQD<!-- raw HTML omitted -->, it will follow the password policy in your domain or fine grained password policy if you got defined for the user.</p>
<!-- raw HTML omitted -->
<p>So let say that an user with the delegate right to do password reset accidentally press OK in the password reset dialog box without the &ldquo;User must change password at next logon&rdquo; or someone in your organization with permissions to create user objects accentually runs a script that sets blank password.  Then you will have accounts in you domain with no password.
 <!-- raw HTML omitted --></p>
<h2 id="how-do-i-find-accounts-with-ads_uf_passwd_notreqd">How do I find accounts with ADS_UF_PASSWD_NOTREQD?</h2>
<!-- raw HTML omitted -->
<p>How will I know any of the accounts in my domain have &ldquo;password not required&rdquo; set?
The easiest way to do it is to do a search with ADUC (Active Directory Users and Computers) mmc snap-in.</p>
<!-- raw HTML omitted -->
<ol>
<li>Right click the domain root.</li>
<li>Select <!-- raw HTML omitted -->Find&hellip;.<!-- raw HTML omitted --></li>
<li>In the Find: drop down box select <!-- raw HTML omitted -->Custom Search<!-- raw HTML omitted -->.</li>
<li>Click the <!-- raw HTML omitted -->Advanced<!-- raw HTML omitted --> tab.</li>
<li>In the <!-- raw HTML omitted -->Enter LDAP Query:<!-- raw HTML omitted --> field type: <!-- raw HTML omitted -->(&amp;(objectCategory=person)(objectClass=user)(userAccountControl:1.2.840.113556.1.4.803:=32))<!-- raw HTML omitted -->.</li>
<li>Click <!-- raw HTML omitted -->Find Now<!-- raw HTML omitted -->.</li>
</ol>
<!-- raw HTML omitted -->
<h2 id="how-to-create-users">How to create users</h2>
<!-- raw HTML omitted -->
<p>To create users without allowing blank passwords you must deal with the userAccountContol values:</p>
<!-- raw HTML omitted -->
<p>&ldquo;When a new user account is created, the <a href="https://docs.microsoft.com/en-us/windows/desktop/ADSchema/a-useraccountcontrol">userAccountControl</a>  attribute for the account automatically has the <!-- raw HTML omitted -->UF_PASSWD_NOTREQD<!-- raw HTML omitted --> flag set, which indicates that no password is required for the account. If the security policies of the domain that the account is created in requires a password for all user accounts, then the <!-- raw HTML omitted -->UF_PASSWD_NOTREQD<!-- raw HTML omitted --> flag must be removed from the userAccountControl attribute for the account.&rdquo;</p>
<!-- raw HTML omitted -->
<p>Here you can read on how to create user accounts:</p>
<!-- raw HTML omitted -->
<p><a href="https://docs.microsoft.com/en-us/windows/desktop/AD/creating-a-user">Creating a user (Windows)</a></p>
<!-- raw HTML omitted -->
<p>PASSWD_NOTREQD flag:</p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>This Vbscript code example will create a user with UF_PASSWD_NOTREQD. <!-- raw HTML omitted -->The user will be allowed using blank passwords<!-- raw HTML omitted -->.</p>
<!-- raw HTML omitted -->
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-vb" data-lang="vb"><span style="color:#66d9ef">Set</span> objOU <span style="color:#f92672">=</span> GetObject(<span style="color:#e6db74">&#34;LDAP://ou=sales,dc=contoso,dc=com&#34;</span>)
<span style="color:#66d9ef">Set</span> objUser <span style="color:#f92672">=</span> objOU.Create(<span style="color:#e6db74">&#34;User&#34;</span>, <span style="color:#e6db74">&#34;cn=jsmith&#34;</span>)
objUser.Put <span style="color:#e6db74">&#34;sAMAccountName&#34;</span>,<span style="color:#e6db74">&#34;jsmith&#34;</span>
objUser.Put <span style="color:#e6db74">&#34;givenName&#34;</span>,<span style="color:#e6db74">&#34;james&#34;</span>
objUser.SetInfo
objUser.put <span style="color:#e6db74">&#34;userPrincipalName&#34;</span>,objUser.sAMAccountName <span style="color:#f92672">&amp;</span> <span style="color:#e6db74">&#34;@contoso.com&#34;</span>
objUser.AccountDisabled <span style="color:#f92672">=</span> <span style="color:#66d9ef">False</span>
strPassword <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;P@ssW0rdPh@rse&#34;</span>
objUser.SetPassword strPassword
objUser.SetInfo</code></pre></div>
<!-- raw HTML omitted -->
<p>This Vbscript code example manage the userAccountControl attribute. It removes both the disabled state and &ldquo;password not required&rdquo; setting:</p>
<!-- raw HTML omitted -->
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-vb" data-lang="vb"><span style="color:#66d9ef">Set</span> objOU <span style="color:#f92672">=</span> GetObject(<span style="color:#e6db74">&#34;LDAP://ou=sales,dc=contoso,dc=com&#34;</span>)
<span style="color:#66d9ef">Set</span> objUser <span style="color:#f92672">=</span> objOU.Create(<span style="color:#e6db74">&#34;User&#34;</span>, <span style="color:#e6db74">&#34;cn=jsmith&#34;</span>)
objUser.Put <span style="color:#e6db74">&#34;sAMAccountName&#34;</span>,<span style="color:#e6db74">&#34;jsmith&#34;</span>
objUser.Put <span style="color:#e6db74">&#34;givenName&#34;</span>,<span style="color:#e6db74">&#34;james&#34;</span>
objUser.SetInfo
objUser.put <span style="color:#e6db74">&#34;userPrincipalName&#34;</span>,objUser.sAMAccountName <span style="color:#f92672">&amp;</span> <span style="color:#e6db74">&#34;@contoso.com&#34;</span>
<span style="color:#66d9ef">Const</span> ADS_UF_ACCOUNT_DISABLE <span style="color:#f92672">=</span> 2
<span style="color:#66d9ef">Const</span> ADS_UF_PASSWD_NOTREQD <span style="color:#f92672">=</span> 32
intUAc <span style="color:#f92672">=</span> objUser.Get (<span style="color:#e6db74">&#34;userAccountControl&#34;</span>)
objUser.put  <span style="color:#e6db74">&#34;userAccountControl&#34;</span>, intUAc <span style="color:#f92672">And</span> (<span style="color:#66d9ef">Not</span> ADS_UF_PASSWD_NOTREQD) <span style="color:#f92672">And</span> (<span style="color:#66d9ef">Not</span> ADS_UF_ACCOUNT_DISABLE)
strPassword <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;P@ssW0rdPh@rse&#34;</span>
objUser.SetPassword strPassword
objUser.SetInfo</code></pre></div>
<!-- raw HTML omitted -->
<h2 id="how-do-i-know-if-i-got-blank-passwords-and-how-do-i-deal-with-it">How do I know if I got blank passwords and how do I deal with it?</h2>
<!-- raw HTML omitted -->
<p>Well, you can run a script to test every account against a blank password or why not find users with passwords that don&rsquo;t comply with the password policy and remove the user setting for other users at the same time? :)</p>
<!-- raw HTML omitted -->
<p>Here&rsquo;s a code-sample that remove the <!-- raw HTML omitted -->ADS_UF_PASSWD_NOTREQD<!-- raw HTML omitted -->. If a user has a blank password the script will report an error stating it does not follow the password policy for the domain, as long as you have a password policy in the domain that requires minimum length above zero characters.
If the script succeeds it will also report the status of the account, since if the account is also disabled it still could have a blank password.</p>
<!-- raw HTML omitted -->
<p>You could test your environment with this code-sample and review the output.</p>
<!-- raw HTML omitted -->
<p>Hopefully you do not have accounts with <!-- raw HTML omitted -->ADS_UF_PASSWD_NOTREQD<!-- raw HTML omitted -->. If you do you follow this procedure to find them.</p>
<!-- raw HTML omitted -->
<p>You could still of course have accounts with blank passwords in case you had a domain password policy with no minimum password length. To remediate you have to make sure your password policies are in line with you security policy and that users are required to change their passwords and do not have &ldquo;Password never expires&rdquo; ticked in.</p>
<!-- raw HTML omitted -->
        </div>
        <!-- tags -->
        <div class="mb-3">
          <h5 class="d-inline-block mr-3">Tags:</h5>
          <ul class="list-inline d-inline-block">
            
            <li class="list-inline-item"><a class="text-color" href="https://managedpriv.com/tags/security">security</a>,</li>
            
            <li class="list-inline-item"><a class="text-color" href="https://managedpriv.com/tags/active%20directory">active directory</a>,</li>
            
            <li class="list-inline-item"><a class="text-color" href="https://managedpriv.com/tags/password">password</a>,</li>
            
          </ul>
        </div>
        
        
        <div class="mt-5">
          <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "managedpriv-com" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        </div>
        
      </div>
      <!-- sidebar -->
<aside class="col-lg-4 order-1 order-lg-2">
  <!-- latest post -->
  <div class="bg-white px-4 py-5 box-shadow mb-5">
    <h4 class="mb-4">Latest Article</h4>
    <!-- post-item -->
    
    <div class="media border-bottom border-color pb-3 mb-3">
      <a href="https://managedpriv.com/blog/do-you-allow-blank-passwords-in-your-environment/"><img class="mr-3 post-thumb-sm" src="https://managedpriv.com/images/blog/post-1.webp"></a>
      <div class="media-body">
        <a href="https://managedpriv.com/blog/do-you-allow-blank-passwords-in-your-environment/">
          <h5 class="mt-0">Do You Allow Blank Passwords In Your Environment</h5>
        </a>
        07 Feb 2019
      </div>
    </div>
    
  </div>
  <!-- categories -->
  <div class="bg-white px-4 py-5 box-shadow mb-5">
    <h4 class="mb-4">Category</h4>
    <ul class="list-styled style-circle">
      <li class="border-bottom border-color"><a href="/categories/passwords" class="text-color d-block pb-3 mt-3 text-decoration-none">Passwords</a></li>
    </ul>
  </div>
  <!-- tags -->
  <div class="bg-white px-4 py-5 box-shadow mb-5">
    <h4 class="mb-4">Tags</h4>
    <ul class="list-inline tag-list">
      <li class="list-inline-item"><a class="hover-ripple" href="/tags/active-directory">Active directory</a></li>
      <li class="list-inline-item"><a class="hover-ripple" href="/tags/password">Password</a></li>
      <li class="list-inline-item"><a class="hover-ripple" href="/tags/security">Security</a></li>
    </ul>
  </div>
</aside>
<!-- /sidebar -->
    </div>
  </div>
</section>
<!-- /blog details -->


<footer>
  
  <div class="section bg-secondary">
    <div class="container">
      <div class="row justify-content-between">
        
        <div class="col-lg-5 mb-5 mb-lg-0">
          
          <a class="mb-4 d-inline-block" href="/"><img class="img-fluid"
              src="https://managedpriv.com/images/logo-alt.png" alt="Robin Graberg - Managed Privileges"></a>
          <p class="text-light mb-5"></p>
          <h4 class="text-white mb-4">FOLLOW ME ON</h4>
          
          <ul class="list-inline social-icon-alt">
            
            <li class="list-inline-item">
              <a class="hover-ripple" href="https://twitter.com/ipcdollar1"><i class="fa fa-twitter"></i></a>
            </li>
            
            <li class="list-inline-item">
              <a class="hover-ripple" href="https://github.com/canix1"><i class="fa fa-github"></i></a>
            </li>
            
            <li class="list-inline-item">
              <a class="hover-ripple" href="https://www.linkedin.com/in/robin-granberg"><i class="fa fa-linkedin"></i></a>
            </li>
            
          </ul>
        </div>
        <div class="col-lg-6">
          <div class="row">
            
            <div class="col-6 mb-5">
              <h4 class="text-white mb-4">MANAGEDPRIC.COM</h4>
              <ul class="list-styled">
                
              </ul>
            </div>
            
            <div class="col-6 mb-5">
              <h4 class="text-white mb-4">Contact Info</h4>
              <ul class="list-unstyled">
                <li class="text-light mb-3"></li>
                <li class="text-light mb-3">robin.granberg@protonmail.com</li>
                <li class="text-light mb-3"></li>
              </ul>
            </div>
            
            
            <div class="col-12">
              <h4 class="text-white mb-4">Subscribe Newsletter</h4>
              <form action="https://gmail.us4.list-manage.com/subscribe/post?u=463ee871f45d2d93748e77cad&amp;amp;id=a0a2c6d074" method="post" name="mc-embedded-subscribe-form" target="_blank">
                <div class="position-relative">
                  <input type="email" class="form-control border-0 text-white newsletter-form" id="newsletter" name="newsletter" placeholder="Enter your email">
                  <button type="submit" name="subscribe" class="btn btn-primary btn-subscribe">Subscribe</button>
                  <div style="position: absolute; left: -5000px;" aria-hidden="true">
                    <input type="text" name="b_463ee871f45d2d93748e77cad_a0a2c6d074" tabindex="-1">
                  </div>
                </div>
              </form>
            </div>
            
            
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <div class="bg-secondary-darken py-4">
    <div class="container">
      <div class="row">
        <div class="col-md-6 text-center text-md-left mb-3 mb-md-0">
          <p class="mb-0 text-white"></p>
        </div>
        <div class="col-md-6 text-center text-md-right">
          <ul class="list-inline">
            
          </ul>
        </div>
      </div>
    </div>
  </div>
</footer>



<script>
  var indexURL = "https://managedpriv.com/index.json"
</script>


<!-- Google Map API -->

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBu5nZKbeK-WHQ70oqOWo-_4VmwOwKP9YQ"></script>


<!-- JS Plugins -->

<script src="https://managedpriv.com/plugins/jQuery/jquery.min.js"></script>

<script src="https://managedpriv.com/plugins/bootstrap/bootstrap.min.js"></script>

<script src="https://managedpriv.com/plugins/slick/slick.min.js"></script>

<script src="https://managedpriv.com/plugins/google-map/gmap.js"></script>

<script src="https://managedpriv.com/plugins/venobox/venobox.min.js"></script>

<script src="https://managedpriv.com/plugins/filterizr/jquery.filterizr.min.js"></script>

<script src="https://managedpriv.com/plugins/search/fuse.min.js"></script>

<script src="https://managedpriv.com/plugins/search/mark.js"></script>

<script src="https://managedpriv.com/plugins/search/search.js"></script>


<!-- Main Script -->

<script src="https://managedpriv.com/js/script.min.js"></script>

<!-- google analitycs -->
</body>

</html>